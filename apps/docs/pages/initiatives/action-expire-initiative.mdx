---
title: "Actioning and Expiring Initiatives"
weight: 4
---

# Actioning and Expiring Initiatives

Board owners have two key functions to manage initiative lifecycle: **accepting** successful proposals and **expiring** inactive ones. Both actions are permanent and trigger different outcomes for supporters.

## Initiative States

```solidity
enum InitiativeState {
    Proposed,    // Initial state when created
    Accepted,    // Owner approved the initiative
    Expired      // Owner expired due to inactivity
}
```

## State Transitions

### Valid Transitions

```
Proposed → Accepted  (via acceptInitiative)
Proposed → Expired   (via expireInitiative)
```

### Invalid Transitions

- Cannot expire an Accepted initiative
- Cannot accept an Expired initiative
- Cannot transition to Cancelled state (no function exists)
- Cannot reverse Accepted or Expired back to Proposed

**All state transitions are ONE-WAY and PERMANENT.**

---

# Actioning an Initiative

Actioning an initiative means the board owner officially approves it, transitioning it from Proposed to Accepted state. This triggers bounty distribution, incentive calculation, and makes locked tokens redeemable.

### Access Control

**Owner-only function** - Only the board owner can action initiatives.

## Pre-conditions

1. **Initiative must exist** - `initiativeId <= initiativeCount`
2. **Initiative must be in Proposed state** - Cannot accept already Accepted or Expired initiatives
3. **Caller must be owner** - Access restricted via `onlyOwner` modifier

### Important: No Automatic Threshold Check

The function **does not enforce** that the initiative has reached `acceptanceThreshold`. The owner has full discretion to accept initiatives regardless of weight.

## What Happens When Accepting

When an initiative is accepted:

1. **State changes** to `Accepted` (irreversible)
2. **Acceptance timestamp** is recorded (`acceptanceTimestamp = block.timestamp`)
3. **Bounties are automatically distributed** (if configured)
4. **Incentive rewards are calculated** (if configured)
5. **Supporters can redeem** their locked tokens (after release timelock)

### Automatic Integrations

#### Bounties Distribution

If bounties are configured, they're automatically distributed. Supporters must claim their bounty rewards separately from the Bounties contract.

#### Incentives Calculation

If an incentives pool is configured, rewards are calculated and paid out.

## Impact on Token Locks When Accepted

### Redemption Timeline

Locked tokens become redeemable based on `releaseLockDuration`:

**Immediate Release:** Supporters can redeem immediately

**Timelocked Release:** Supporters must wait for timelock to pass before redeeming.

If the board is closed via `closeBoard()`, the release timelock is bypassed and all locks become immediately redeemable.


---

# Expiring an Initiative

Expiring an initiative terminates an inactive proposal that has failed to gain sufficient support. No additional support can be added, and the initiative is removed from the board. Tokens locked up in support of an expired initiative can be redeemed immediately.

### Access Control

**Owner-only** - Uses `onlyOwner` modifier.

## Pre-conditions

1. **Initiative must exist**
2. **Initiative must be in Proposed state** - Cannot expire Accepted initiatives
3. **Initiative must be inactive** for ≥ `activityTimeout` (default 60 days)

**Activity tracking:**
- `lastActivity` updates when:
  - Initiative is created
  - Any supporter locks tokens
- Default timeout: 60 days (configurable via `setInactivityThreshold`)

## What Happens When Expiring

1. **State changes** to `Expired`
2. **Notifies Bounties contract** (if configured): `bounties.handleInitiativeExpired(initiativeId)`
3. **Emits** `InitiativeExpired` event

**Note:** Bounty refund logic is not yet implemented (marked as TODO in code).
