---
title: "Board Configuration"
weight: 1
---

# Board Configuration

## Configuration Structure

The complete configuration is defined in the `FactoryDeployment` struct:

```solidity
struct FactoryDeployment {
    address owner;                                      // Board owner address
    address underlyingToken;                           // ERC20 token address
    uint256 acceptanceThreshold;                       // Weight needed for acceptance
    uint256 lockInterval;                              // Time unit for locks (seconds)
    uint256 maxLockIntervals;                          // Max lock duration in intervals
    uint256 proposalCap;                               // Max active proposals
    uint256 decayCurveType;                           // 0=linear, 1=exponential
    uint256[] decayCurveParameters;                    // Curve params (must be length 1)
    ProposerRequirements proposerRequirements;         // Who can propose
    ParticipantRequirements participantRequirements;   // Who can support
    uint256 releaseLockDuration;                       // Timelock after acceptance
    uint256 boardOpensAt;                             // Unix timestamp for opening
    BoardIncentives boardIncentives;                   // Reward configuration
}
```

## Core Parameters

### owner

- **Type:** `address`
- **Purpose:** Address that controls the board (can accept initiatives, close board, etc.)
- **Requirement:** Must not be `address(0)` (i.e. ownerless boards are not allowed)
- **Suggestion:** Use a multisig or DAO-controlled address for trustless operation

### underlyingToken

- **Type:** `address`
- **Purpose:** The token used for signaling and voting weight
- **Requirement:** Must be a valid ERC20 token address
- **Token Types:**
  - Standard ERC20: Works with all eligibility types except `MinBalanceAndDuration`
  - ERC20Votes: Required for `MinBalanceAndDuration` eligibility (checkpoint support)

### acceptanceThreshold

- **Type:** `uint256`
- **Purpose:** Total weight an initiative must reach to be eligible for actioning the initiative
- **Requirement:** Must be > 0

### lockInterval

- **Type:** `uint256` (seconds)
- **Purpose:** Time unit for lock durations and decay calculations
- **Requirement:** Must be > 0

### maxLockIntervals

- **Type:** `uint256` (number of intervals)
- **Purpose:** Maximum duration users can lock tokens, represented as a number of intervals 
- **Requirement:** Must be > 0
- **Note:** For example, if `lockInterval` is set to 86400 (1 day), then a `maxLockIntervals` of 365 would allow for a maximum lock duration of 365 days

### proposalCap

- **Type:** `uint256`
- **Purpose:** Maximum number of active proposals allowed on the board
- **Requirement:** Must be > 0

### decayCurveType

- **Type:** `uint256`
- **Purpose:** How weight decays over time
- **Requirement:** Must be a valid option (currenlty only 2 types are supported):
- **Options:**
  - `0` - Linear decay: Weight decreases steadily
  - `1` - Exponential decay: Weight decreases at accelerating rate

### decayCurveParameters

- **Type:** `uint256[]`
- **Purpose:** Parameters for the decay curve
- **Requirement:** Array length must match what is expected based on the chosen decay curve type
- **Linear Decay (Type 0):**
  - Parameter: Decay rate (1e18 = 1:1 linear)
- **Exponential Decay (Type 1):**
  - Parameter: Decay multiplier per interval

### releaseLockDuration

- **Type:** `uint256` (seconds)
- **Purpose:** Additional timelock after initiative acceptance before tokens can be redeemed
- **Values:**
  - `0` - Immediate release
  - `7 days` (604800) - 1 week cooldown
  - `30 days` (2592000) - 1 month vesting

### boardOpensAt

- **Type:** `uint256` (Unix timestamp)
- **Purpose:** Fair launch mechanism - board doesn't accept proposals until this time
- **Values:**
  - `0` - Opens immediately
  - `block.timestamp + 1 hours` - Opens 1 hour from deployment
  - Specific timestamp for scheduled launch

## Eligibility Requirements

### ProposerRequirements

Defines who can create initiatives:

```solidity
struct ProposerRequirements {
    EligibilityType eligibilityType;  // None, MinBalance, or MinBalanceAndDuration
    uint256 minBalance;               // Min tokens to hold (if applicable)
    uint256 minHoldingDuration;       // Min blocks to hold (if applicable)
    uint256 threshold;                // Tokens proposer must lock when proposing
}
```

#### EligibilityType.None (Most Permissive)

Anyone can propose if they have the threshold:

```solidity
ProposerRequirements({
    eligibilityType: EligibilityType.None,
    minBalance: 0,
    minHoldingDuration: 0,
    threshold: 50_000 * 1e18  // Must lock 50k tokens to propose
})
```

**Validations:**
- `threshold` must be > 0

#### EligibilityType.MinBalance

Proposers must hold a minimum balance:

```solidity
ProposerRequirements({
    eligibilityType: EligibilityType.MinBalance,
    minBalance: 75_000 * 1e18,    // Must hold 75k tokens
    minHoldingDuration: 0,
    threshold: 50_000 * 1e18      // Plus 50k to lock when proposing
})
```

**Validations:**
- `minBalance` must be > 0
- `threshold` is additional amount to lock

#### EligibilityType.MinBalanceAndDuration (Most Restrictive)

Proposers must hold tokens for a minimum duration:

```solidity
ProposerRequirements({
    eligibilityType: EligibilityType.MinBalanceAndDuration,
    minBalance: 100_000 * 1e18,
    minHoldingDuration: 50400,    // blocks (~7 days at 12s/block)
    threshold: 100_000 * 1e18
})
```

**Validations:**
- `minBalance` must be > 0
- `minHoldingDuration` must be > 0

- **Requires ERC20Votes tokens** - Must implement the `IVotes` interface with checkpoint functionality

### ParticipantRequirements

Defines who can support initiatives:

```solidity
struct ParticipantRequirements {
    EligibilityType eligibilityType;  // None, MinBalance, or MinBalanceAndDuration
    uint256 minBalance;               // Min tokens to hold (if applicable)
    uint256 minHoldingDuration;       // Min blocks to hold (if applicable)
}
```

Same eligibility types as proposers, but no threshold (participants choose lock amount).

**Validations:**
- If `MinBalance`: `minBalance` must be > 0
- If `MinBalanceAndDuration`: `minBalance` and `minHoldingDuration` must be > 0, requires ERC20Votes token

## Post-Deployment Configuration

After deployment, the board owner can configure additional settings:

### Set Board Title

```solidity
function setTitle(string memory _title) external onlyOwner
```

### Update Decay Curve

```solidity
function setDecayCurve(uint256 _type, uint256[] memory _parameters) external onlyOwner
```

**Requirements:**
- Same validation as initialization
- Can be changed at any time

### Set Inactivity Threshold

```solidity
function setInactivityThreshold(uint256 _threshold) external onlyOwner
```

### Set Bounties Contract

```solidity
function setBounties(address _bounties) external onlyOwner
```

### Set Incentives Pool

```solidity
function setIncentivesPool(address _pool) external onlyOwner
```

**Requirements:**
- Can only be called BEFORE `boardOpensAt`
- Must be called if `boardIncentives.enabled == true`

## Validation & Errors

| Error | Condition | Fix |
|-------|-----------|-----|
| `SignalsFactory_ZeroAddressOwner` | Owner is address(0) | Provide valid owner address |
| `Signals_ZeroAddressToken` | Token is address(0) | Provide valid token address |
| `Signals_ZeroAcceptanceThreshold` | Threshold is 0 | Set threshold > 0 |
| `Signals_ZeroMaxLockIntervals` | Max intervals is 0 | Set max intervals > 0 |
| `Signals_ZeroLockInterval` | Lock interval is 0 | Set lock interval > 0 |
| `Signals_ZeroProposalCap` | Proposal cap is 0 | Set proposal cap > 0 |
| `Signals_InvalidDecayCurveType` | Type >= 2 or params length != 1 | Use type 0 or 1, array length 1 |
| `Signals_ProposerZeroThreshold` | Threshold 0 with None eligibility | Set threshold > 0 |
| `Signals_ProposerZeroMinBalance` | MinBalance 0 with MinBalance type | Set minBalance > 0 |
| `Signals_ProposerZeroMinDuration` | Duration 0 with MinBalanceAndDuration | Set minHoldingDuration > 0 |
| `Signals_ProposerNoCheckpointSupport` | Token doesn't support IVotes | Use ERC20Votes token |
| `Signals_ParticipantZeroMinBalance` | Participant minBalance is 0 | Set minBalance > 0 |
| `Signals_ParticipantZeroMinDuration` | Participant duration is 0 | Set minHoldingDuration > 0 |
| `Signals_ParticipantNoCheckpointSupport` | Token lacks checkpoint support | Use ERC20Votes token |
| `Signals_BoardAlreadyOpened` | setIncentivesPool after opening | Call before boardOpensAt |